# 다이캐스팅 공정 품질 관리를 위한 설명가능 AI와 온톨로지 통합 프레임워크: 실증 연구 및 심층 분석

## Abstract
This study proposes and empirically validates a novel framework integrating eXplainable Artificial Intelligence (XAI) with ontology-based knowledge representation to enhance quality control in complex manufacturing processes, specifically die-casting. Addressing the critical challenge of 'black-box' AI models in manufacturing, we developed a predictive model (RandomForest demonstrated superior, albeit practically limited, performance with approx. 90% accuracy and 77% F1-score on real-world data exhibiting a 22.87% defect rate) and employed SHAP for feature importance quantification and counterfactual analysis for actionable insights. Concurrently, a domain-specific OWL ontology was constructed to formally capture established die-casting knowledge. The core contribution lies in the **symbiotic integration** where XAI-derived insights (e.g., the significant impact of factory humidity, spray time, clamping force) were systematically mapped onto the ontology, enabling semantic interpretation and knowledge-based reasoning via the HermiT engine. While predictive recall requires further improvement and quantitative synergy metrics are yet to be developed, the framework demonstrates the feasibility and qualitative potential of **ontology-augmented XAI** to provide context-rich, human-understandable explanations, validate data-driven findings against domain expertise, and facilitate trustworthy AI adoption in smart manufacturing. This work, acknowledging challenges like SHAP visualization compatibility and ontology scalability, lays a methodological foundation and provides critical empirical insights for future synergistic data-knowledge systems in quality management.

## 서론
제조업의 디지털 전환이 가속화됨에 따라, 데이터 기반 인공지능(AI) 모델은 공정 최적화 및 품질 예측의 핵심 동력으로 부상하고 있다(Park & Youm, 2023). 특히 다이캐스팅과 같이 다변수 상호작용이 복잡하게 얽힌 공정에서는 미세한 조건 변화가 제품 품질에 미치는 영향이 크지만, 전통적인 품질 관리는 여전히 현장 전문가의 경험과 직관에 크게 의존하는 경향이 있다(Park & Youm, 2023). 이러한 상황에서 머신러닝 모델은 잠재적으로 우수한 예측 성능을 제공하지만, 그 내부 작동 방식의 불투명성, 즉 '블랙박스' 문제는 현장의 신뢰 확보와 실질적인 공정 개선 연계에 큰 장애물로 작용한다(Naqvi et al., 2024).

이러한 도전과제를 해결하기 위한 핵심 열쇠로 **설명가능 인공지능(XAI)**이 주목받고 있다. XAI는 AI 모델의 예측 결과에 대한 명확하고 이해 가능한 근거를 제시함으로써, 모델의 투명성을 높이고 사용자의 신뢰를 구축하는 것을 목표로 한다(Agostinho et al., 2023). 제조 분야에서 XAI를 활용하면, 데이터 패턴으로부터 학습된 복잡한 모델의 판단 기준을 해석하여 품질 이상 원인을 규명하고, 데이터 기반의 합리적인 공정 개선 방안을 도출하는 데 기여할 수 있다(Hong et al., 2023). 예를 들어, SHAP (SHapley Additive exPlanations)와 같은 기법은 각 공정 변수가 모델 예측에 미치는 개별적인 기여도를 정량화하여 핵심 영향 인자를 식별하는 데 효과적이다(Hong et al., 2023).

그러나 데이터 기반 XAI만으로는 AI 설명의 완전성을 담보하기 어렵다. 통계적 연관성이 반드시 인과관계를 의미하지 않으며, 도출된 설명이 실제 공정의 물리적 메커니즘이나 전문가의 지식 체계와 일치하지 않을 수 있다. 이러한 간극을 메우기 위해, 본 연구는 **지식 기반 접근법**, 특히 **온톨로지(Ontology)**와의 융합을 제안한다. 온톨로지는 특정 도메인의 개념, 관계, 제약조건 등을 형식적이고 명시적으로 표현하는 시맨틱 웹 기술의 핵심 구성요소로, 제조 공정의 전문 지식을 구조화된 형태로 저장하고 활용하는 데 매우 유용하다(Wang et al., 2024). **지식 그래프(Knowledge Graph)** 형태로 구축된 온톨로지는 데이터 기반 분석 결과에 **맥락(context)**과 **의미(semantics)**를 부여하고, 논리적 추론을 통해 암묵적인 지식을 발견하거나 가설을 검증하는 데 활용될 수 있다(Wang et al., 2024; Rožanec et al., 2023). 본 연구가 추구하는 **데이터 기반 설명(XAI)과 지식 기반 추론(Ontology)의 시너지**는 각 방법론의 한계를 상호 보완하여, 예측의 정확성뿐만 아니라 설명의 깊이와 신뢰성까지 확보하는 것을 목표로 한다.

최근 제조 분야 AI 연구 동향은 XAI와 온톨로지를 결합하려는 시도로 나아가고 있다(Naqvi et al., 2024). 이러한 **ontology-augmented XAI**는 XAI가 제공하는 국소적, 데이터 의존적 설명을 온톨로지에 내재된 포괄적 도메인 지식과 연결함으로써, 더욱 **풍부하고 신뢰할 수 있으며 실행 가능한(actionable)** 설명을 생성할 잠재력을 지닌다. 예를 들어, SHAP 분석으로 "높은 공장 습도"가 불량 예측에 기여함을 발견했다면, 온톨로지는 "높은 습도는 용탕의 가스 함유량을 증가시켜 기공(Porosity) 불량을 유발할 수 있다"는 전문가 지식과 연결하여 설명의 깊이를 더하고, 데이터 기반 발견의 타당성을 도메인 지식 관점에서 검증할 수 있다.

하지만 기존 연구들은 XAI와 온톨로지의 통합 가능성을 이론적으로 제시하거나, 제한적인 범위에서 개념 증명(Proof-of-Concept) 수준의 연구가 주를 이루고 있으며, 실제 산업 데이터를 활용하여 통합 프레임워크의 **구현 가능성, 성능, 그리고 그 과정에서 발생하는 도전과제를 종합적으로 검증**한 실증 연구는 여전히 부족한 실정이다. 본 연구는 이러한 연구 공백을 메우고자, 실제 다이캐스팅 공정 데이터를 대상으로 **XAI-온톨로지 통합 프레임워크를 설계, 구현, 및 평가**한다. 구체적으로, (1) 실제 공정 데이터 기반의 품질 예측 모델(RandomForest)을 구축하고, (2) SHAP 및 Counterfactual Explanation을 적용하여 모델 예측을 설명하며, (3) 다이캐스팅 도메인 온톨로지를 구축하고, (4) XAI 분석 결과를 온톨로지와 체계적으로 연계한 후, (5) 온톨로지 추론 엔진을 활용하여 통합된 지식 기반에서 추론을 수행하는 **전체 파이프라인**을 구현하고 그 결과를 심층적으로 분석한다.

본 연구의 **핵심적인 학술적 기여**는 데이터 과학(XAI)과 지식 공학(온톨로지)을 실질적으로 융합하는 **구체적인 방법론과 실증적 사례**를 제공함으로써, 제조 분야에서 **신뢰할 수 있고 설명가능한 AI 시스템** 구축을 위한 청사진을 제시하는 데 있다. 특히, 실제 산업 데이터의 복잡성과 제약 조건 하에서 프레임워크를 구현하고 평가함으로써, 이론적 제안을 넘어선 **실질적인 적용 가능성과 한계점**을 명확히 밝히고자 한다. 또한, 실제 데이터 적용 과정에서 나타난 **현실적인 성능과 기술적 도전과제**(예: SHAP 시각화 호환성 문제, 예측 성능의 한계, Counterfactual 적용의 어려움)를 투명하게 공유함으로써, 향후 관련 연구 및 현장 적용에 중요한 참고 자료를 제공하고자 한다.


## 고찰 및 결론
본 연구는 다이캐스팅 제조 공정의 품질 관리를 위한 설명가능 AI(XAI)와 온톨로지 통합 프레임워크를 제안하고, 실제 산업 데이터를 이용한 실증 연구를 통해 그 구현 가능성, 잠재력, 그리고 현실적인 한계를 심층적으로 분석하였다. RandomForest 모델을 통해 약 90% 수준의 예측 정확도를 달성하였으나, 불량 클래스에 대한 Recall은 약 69%로 개선의 여지를 남겼다. SHAP 분석은 공장 습도, 스프레이 시간, 형체력 등 데이터 기반의 주요 품질 영향 인자를 성공적으로 식별하였으며, 이는 도메인 지식과 비교/검증될 수 있는 중요한 정량적 근거를 제공한다. 핵심적으로, 본 연구는 이러한 XAI 분석 결과를 도메인 지식을 형식화한 OWL 온톨로지와 성공적으로 통합하고, 통합된 지식 그래프 상에서 HermiT 추론 엔진을 성공적으로 실행함으로써, **데이터와 지식의 시너지를 통한 심층적이고 신뢰성 있는 설명 제공**의 기술적 가능성을 명확히 입증하였다.

본 연구의 주요 **학술적 기여**는 다음과 같다. 첫째, 제조 AI 분야에서 아직 초기 단계인 XAI와 온톨로지의 **체계적 통합 방법론**을 제시하고, 이를 실제 산업 데이터 환경에서 **구체적으로 구현 및 검증**하였다. 이는 이론적 논의를 넘어선 실질적인 구현 사례로서 후속 연구에 중요한 참조점을 제공한다. 둘째, SHAP, Counterfactual Explanation, OWL 온톨로지, HermiT 추론 엔진 등 다양한 기술 요소를 연동하는 **기술적 파이프라인**을 구축하고, 그 과정에서 마주한 **현실적 도전과제**(예: 라이브러리 호환성, 예측 성능의 한계, Counterfactual 적용의 어려움)를 투명하게 제시함으로써, 연구 및 현장 적용 시 고려해야 할 실질적인 측면들을 조명하였다. 셋째, 비록 정량적인 시너지 효과 측정이나 완벽한 예측 성능 달성에는 이르지 못했지만, 실제 산업 데이터의 복잡성 하에서 **XAI-온톨로지 통합 프레임워크의 실현 가능성**과 **설명력 강화 및 지식 융합**이라는 **핵심적인 질적 가치**를 실증적으로 보여주었다는 점에서 중요한 의미를 갖는다.

실험 결과, RandomForest 모델이 최적 성능(Accuracy 90.46%, F1-Defect 76.87%)을 보였으며, Sensor_Factory_Humidity가 가장 중요한 변수로 식별되었다. XAI 결과의 온톨로지 통합 및 후속 추론 과정은 기술적으로 성공적으로 완료되었다.

그러나 본 연구는 다음과 같은 **한계점** 및 이를 극복하기 위한 **구체적인 미래 연구 방향**을 제시한다:

*   **데이터 및 모델 성능 측면**: (1) **데이터 맥락 이해 심화**: 분석 대상 데이터의 불량률(22.87%)이 특정 조건(기간, 제품)을 반영함을 인지하고, 더 넓은 범위의 데이터 확보 또는 샘플링 전략(예: 능동 학습) 적용을 통한 일반화 성능 향상 연구가 필요하다. (2) **예측 성능 최적화**: F1-score 및 특히 Recall 성능 개선을 위해 특징 공학 강화, 하이퍼파라미터 정밀 튜닝(예: Bayesian Optimization), 최신 테이블형 데이터 처리 딥러닝 모델(예: TabNet, NODE) 적용, 또는 비용 민감 학습(Cost-sensitive learning) 도입을 고려해야 한다.
*   **XAI 기법 측면**: (1) **XAI 안정성 및 호환성 확보**: SHAP 시각화 등에서 발생한 라이브러리 호환성 문제는 강건한 XAI 파이프라인 구축의 중요성을 시사하며, 대안적인 시각화 방법 또는 안정적인 라이브러리 버전 관리가 요구된다. (2) **Counterfactual Explanation 강화**: DiCE 외 다른 Counterfactual 기법(예: MACE, Wachter) 적용 및 비교 연구, 그리고 생성된 counterfactual의 현실적 제약 조건(feasibility constraint) 고려 및 사용자 피드백 통합 방안 연구가 필요하다.
*   **온톨로지 및 통합 측면**: (1) **온톨로지 자동 구축 및 확장**: 전문가 지식 의존성을 줄이고 온톨로지의 최신성 및 확장성을 확보하기 위해, 텍스트 마이닝, 데이터베이스 스키마 분석 등을 활용한 **온톨로지 학습(Ontology Learning)** 기술 도입 연구가 필수적이다. (2) **추론 규칙 정교화 및 활용 심화**: 본 연구에서 가능성만 확인한 SWRL 규칙 기반 추론을 실제 공정 지식 기반으로 정교화하고, 추론 결과를 활용한 **자동 진단, 근본 원인 분석(Root Cause Analysis), 예측적 유지보수** 등 구체적인 응용 시나리오 개발 연구가 필요하다. (3) **정량적 시너지 평가 지표 개발**: XAI-온톨로지 통합이 설명의 품질(예: 충실도, 이해도, 실행가능성) 또는 의사결정의 효율성에 미치는 영향을 **정량적으로 측정**할 수 있는 평가 프레임워크 및 지표 개발이 시급하다.
*   **일반화 및 현장 적용**: 본 연구 결과를 다른 유형의 다이캐스팅 공정 또는 완전히 다른 제조 도메인(예: 사출 성형, 반도체)에 적용하여 제안 프레임워크의 **일반화 가능성(generalizability)**을 검증하고, 실제 현장 엔지니어와의 협업을 통해 개발된 시스템의 **사용성(usability) 및 실효성(effectiveness)**을 평가하는 연구가 중요하다.

결론적으로, 본 연구는 제조 분야에서 AI의 신뢰성과 활용성을 제고하기 위한 핵심 전략으로서 **설명가능성(XAI)과 지식 표현(Ontology)의 통합**이 갖는 중요성과 기술적 실현 가능성을 실제 산업 데이터를 통해 입증하였다. 데이터 기반 분석의 민첩성과 도메인 지식의 깊이를 결합한 본 프레임워크는, 제시된 한계점들을 극복하고 후속 연구를 통해 발전될 경우, **더욱 지능적이고 투명하며 신뢰할 수 있는 차세대 스마트 제조 시스템** 구축에 핵심적인 기여를 할 것으로 기대된다.
